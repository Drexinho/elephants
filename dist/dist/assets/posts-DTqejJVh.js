(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();function g(){const e=document.getElementById("menu-btn"),t=document.getElementById("mobile-menu");!e||!t||(e.addEventListener("click",()=>{const o=t.classList.toggle("hidden");e.setAttribute("aria-expanded",!o)}),t.querySelectorAll("a").forEach(o=>{o.addEventListener("click",()=>{t.classList.add("hidden"),e.setAttribute("aria-expanded","false")})}))}const d="kromeriz.elephants@seznam.cz",v="+420777595881",b="https://www.instagram.com/kromeriz.elephants/";function S(e){e.addEventListener("submit",t=>{t.preventDefault();const o=e.querySelector("#name")?.value?.trim()||"",a=e.querySelector("#email")?.value?.trim()||"",n=e.querySelector("#message")?.value?.trim()||"",r=encodeURIComponent("Zpráva z webu Kroměříž Elephants"),s=encodeURIComponent(`Jméno: ${o}
Email: ${a}

Zpráva:
${n}`);window.location.href=`mailto:${d}?subject=${r}&body=${s}`})}function k(){const e=document.getElementById("page-loader");if(!e)return;const t=600,o=Date.now();function a(){e.classList.add("loader-fade-out"),setTimeout(()=>{e.hidden=!0},300)}window.addEventListener("load",()=>{const n=Date.now()-o,r=Math.max(0,t-n);setTimeout(a,r)})}function A(){document.querySelectorAll('[data-contact="phone"]').forEach(e=>{e.setAttribute("href",`tel:${v}`)}),document.querySelectorAll('[data-contact="email"]').forEach(e=>{e.setAttribute("href",`mailto:${d}`),e.textContent=d}),document.querySelectorAll('[data-contact="instagram"]').forEach(e=>{e.setAttribute("href",b)})}document.addEventListener("DOMContentLoaded",()=>{k(),g(),A();const e=document.getElementById("contact-form");e&&S(e)});const c="elephants_blog_posts",m=[{id:"1",title:"Úvodní trénink sezóny 2025",excerpt:"První trénink v nové sezóně proběhne v sobotu. Všichni hráči jsou zváni.",body:"Těšíme se na všechny členy klubu. Sraz na hřišti v 9:00. Přineste si pití a sportovní oblečení.",date:"2025-02-01",slug:"uvodni-trenink-sezony-2025"},{id:"2",title:"Zápas s Lokomotivou",excerpt:"Oznamujeme termín přátelského zápasu s týmem Lokomotiva.",body:"Přátelský zápas se uskuteční v neděli 15. 2. 2025. Místo konání: naše hřiště. Začátek v 14:00.",date:"2025-02-10",slug:"zapas-s-lokomotivou"},{id:"3",title:"Vítejte na stránkách Kroměříž Elephants",excerpt:"Klub amerického fotbalu Kroměříž Elephants vás vítá.",body:"Jsme amatérský klub amerického fotbalu. Trénujeme pravidelně a účastníme se ligových i přátelských zápasů. Chcete-li se přidat, napište nám nebo přijďte na trénink.",date:"2025-01-15",slug:"vitejte-elephants"}];let i=null;async function E(){try{const e=await fetch("/api/posts");if(e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>=0){i=t;try{localStorage.setItem(c,JSON.stringify(t))}catch{}return t}}}catch{}try{const e=localStorage.getItem(c);if(e){const t=JSON.parse(e);if(Array.isArray(t))return i=t,t}}catch{}return i=m,m}function f(){if(i!==null)return i;try{const e=localStorage.getItem(c);if(e){const t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return t}}catch{}return m}async function L(e){try{const t=await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),o=await t.json().catch(()=>({}));if(t.ok&&o.ok){i=e;try{localStorage.setItem(c,JSON.stringify(e))}catch{}return{ok:!0}}return{ok:!1,error:o.error||"Chyba ukládání",unauthorized:t.status===401}}catch{try{localStorage.setItem(c,JSON.stringify(e)),i=e}catch{}return{ok:!1,error:"Připojení k serveru selhalo. Data jsou uložena jen lokálně."}}}function w(e){return f().find(t=>t.slug===e)||null}function O(e){return f().find(t=>t.id===e)||null}function p(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function P({title:e,excerpt:t,body:o,date:a,image:n}){const r=p(e);return{id:Date.now().toString(36)+Math.random().toString(36).slice(2),title:e,excerpt:t,body:o,date:a,slug:r,image:n?.trim()||null}}function z(e,t,{title:o,excerpt:a,body:n,date:r,image:s}){const l=e.findIndex(y=>y.id===t);if(l===-1)return e;const h=p(o),u=[...e];return u[l]={...u[l],title:o,excerpt:a,body:n,date:r,slug:h,image:s?.trim()||null},u}function I(e,t){return e.filter(o=>o.id!==t)}export{w as a,O as b,P as c,I as d,f as g,E as l,L as s,z as u};
